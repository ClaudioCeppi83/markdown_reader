<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Markdown Reader</title>\n    <script src=\"https://cdn.tailwindcss.com?plugins=typography\"></script>\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js\"></script>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css\">\n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js\"></script>\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Fira+Code&display=swap\" rel=\"stylesheet\">\n    <style>\n        body {\n            font-family: \'Inter\', sans-serif;\n        }\n        /* Custom scrollbar for a more modern look */\n        ::-webkit-scrollbar {\n            width: 8px;\n        }\n        ::-webkit-scrollbar-track {\n            background: #111827; /* bg-gray-900 */\n        }\n        ::-webkit-scrollbar-thumb {\n            background: #374151; /* bg-gray-700 */\n            border-radius: 4px;\n        }\n        ::-webkit-scrollbar-thumb:hover {\n            background: #4b5563; /* bg-gray-600 */\n        }\n        #editor {\n            font-family: \'Fira Code\', monospace;\n        }\n        /* Tailwind\'s prose styles for rendered markdown */\n    </style>\n</head>\n<body class=\"bg-gray-900 text-white h-screen flex flex-col\">\n\n    <!-- Header -->\n    <header class=\"bg-gray-800 border-b border-gray-700 px-4 py-2 flex items-center justify-between w-full\">\n        <h1 class=\"text-lg font-bold\">Markdown Reader</h1>\n        <div>\n            <input type=\"file\" id=\"file-input\" class=\"hidden\" accept=\".md,.markdown,.txt\">\n            <label for=\"file-input\" class=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded cursor-pointer\">\n                Open File\n            </label>\n        </div>\n    </header>\n\n    <!-- Main Content: Editor and Preview -->\n    <main class=\"flex-1 grid grid-cols-2 gap-4 overflow-hidden p-4\">\n        <!-- Editor Panel -->\n        <div class=\"h-full overflow-auto\">\n            <textarea id=\"editor\" class=\"w-full h-full bg-gray-900 text-gray-300 p-4 border-0 resize-none focus:outline-none\"></textarea>\n        </div>\n\n        <!-- Preview Panel -->\n        <div id=\"preview\" class=\"prose prose-invert max-w-none h-full overflow-auto p-4 bg-gray-900 border-l border-gray-700\">\n        </div>\n    </main>\n\n    <script>\n        document.addEventListener(\'DOMContentLoaded\', () => {\n            const editor = document.getElementById(\'editor\');\n            const preview = document.getElementById(\'preview\');\n            const fileInput = document.getElementById(\'file-input\');\n\n            // Initialize Showdown converter\n            const converter = new showdown.Converter({\n                tables: true,\n                strikethrough: true,\n                tasklists: true,\n                simpleLineBreaks: true,\n                openLinksInNewWindow: true\n            });\n\n            // Function to update the preview panel\n            const updatePreview = () => {\n                const markdownText = editor.value;\n                const html = converter.makeHtml(markdownText);\n                preview.innerHTML = html;\n                // After rendering HTML, find and highlight all code blocks\n                preview.querySelectorAll(\'pre code\').forEach((block) => {\n                    hljs.highlightElement(block);\n                });\n            };\n\n            // Event listener for typing in the editor\n            editor.addEventListener(\'input\', updatePreview);\n\n            // Event listener for file input change\n            fileInput.addEventListener(\'change\', (event) => {\n                const file = event.target.files[0];\n                if (!file) {\n                    return;\n                }\n\n                const reader = new FileReader();\n\n                reader.onload = (e) => {\n                    const content = e.target.result;\n                    editor.value = content;\n                    updatePreview();\n                };\n                \n                // Basic error handling\n                reader.onerror = (e) => {\n                    console.error(\"Failed to read file\", e);\n                    editor.value = \"# Error\\n\\nCould not read the selected file.\";\n                    updatePreview();\n                };\n\n                reader.readAsText(file);\n            });\n\n            // Initial placeholder content\n            editor.value = `# Welcome to Markdown Reader!\\n\\nThis is a minimalist Markdown editor and viewer.\\n\\n**Features:**\\n- Real-time preview\\n- Syntax highlighting for code blocks\\n- Open local \".md\" files\\n\\n---\\n\\n### How to Use\\n1.  Click the **\\\"Open File\\\"** button to load a Markdown file from your computer.\\n2.  Or, simply start typing in this panel.\\n3.  Your formatted text will appear on the right.\\n\\n\\\\`\\\\`\\\\`javascript\\n// Example code block\\nfunction greet(name) {\\n    return \\\\`Hello, \\\\${name}!\\\\`;\\n}\\nconsole.log(greet(\'World\'));\\n\\\\`\\\\`\\\\`\\n`;\n            \n            // Initial render\n            updatePreview();\n        });\n    </script>\n\n</body>\n</html>